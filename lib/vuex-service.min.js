!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("vuex-service",[],e):"object"==typeof exports?exports["vuex-service"]=e():t["vuex-service"]=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e){t.exports=require("lodash")},function(t,e,n){"use strict";(function(t){var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c={},u={},s={};function f(t,e){return function n(){if(!n.hookCalled)return n.hookCalled=!0,t.apply(e,arguments)}}var l,p=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"getHook",value:function(t,e,n){var r=s[t];return r&&r[e]||n}},{key:"hook",value:function(t,e,n,r){var o=s[t]=s[t]||{},a=c[t]=c[t]||{},l=u[t]=u[t]||{};if(2===arguments.length&&"object"===i(e)){var p={};for(var y in e)p[y]=this.hook(t,y,e[y]);return p}return a[e]=a[e]||[],l[e]=l[e]||[],o[e]?o[e]:(o[e]=function(){var t,i=this,c=arguments[arguments.length-1],u=a[e],s=l[e],p=u.length,y=-1,h=o[e].numAsyncPres,v=function(){var e,r,o,a,u=Array.prototype.slice.call(arguments);if(y===p)return a=function(){if(arguments[0]instanceof Error)return g(arguments[0]);var e,n,u=Array.prototype.slice.call(arguments,1);if(u.length&&(t=u),++o<r){if((e=s[o]).length<1)throw new Error("Your post must have a next argument -- e.g., function (next, ...)");return n=[f(a)].concat(t),e.apply(i,n)}return"function"==typeof c?c.apply(i,arguments):void 0},"function"==typeof c&&(u[u.length-1]=f(a)),r=s.length,o=-1,e=n.apply(i,u),r&&"function"!=typeof c?a():e};if(h);function g(t){if("function"==typeof c)return c(t);if(r)return r.call(i,t);throw t}return function n(){if(arguments[0]instanceof Error)return g(arguments[0]);var r,a,s=Array.prototype.slice.call(arguments);if(!s.length||null==arguments[0]&&"function"==typeof c||(t=s),++y<p){if((r=u[y]).isAsync&&r.length<2)throw new Error("Your pre must have next and done arguments -- e.g., function (next, done, ...)");if(r.length<1)throw new Error("Your pre must have a next argument -- e.g., function (next, ...)");return a=(r.isAsync?[f(n),f(_asyncsDone)]:[f(n)]).concat(t),r.apply(i,a)}return o[e].numAsyncPres?void 0:v.apply(i,t)}.apply(this,arguments)},o[e].numAsyncPres=0,o[e])}},{key:"pre",value:function(t,e,n,r,o){"boolean"!=typeof arguments[2]&&(o=r,r=n,n=!1);var i=s[t]=s[t]||{},a=c[t]=c[t]||{};return this._lazySetupHooks(t,i,e,o),(r.isAsync=n)&&i[e].numAsyncPres++,(a[e]=a[e]||[]).push(r),this}},{key:"post",value:function(t,e,n,r){3===arguments.length&&(r=n,n=!1);var o=s[t]=s[t]||{},i=u[t]=u[t]||{};return this._lazySetupHooks(t,o,e),(i[e]=i[e]||[]).push(r),this}},{key:"removePre",value:function(t,e,n){var r=c[t]=c[t]||{};return r[e]?(2===arguments.length?r[e].length=0:r[e]=r[e].filter(function(t){return t!==n}),this):this}},{key:"_lazySetupHooks",value:function(t,e,n,r){if(!e[n])throw new Error("The hook is not set. ".concat(t,".").concat(n));void 0===e[n].numAsyncPres&&this.hook(n,e[n],r)}}])&&a(e.prototype,n),r&&a(e,r),t}());o.a.bindAll(p,(l=p,o.a.without(Object.getOwnPropertyNames(Object.getPrototypeOf(l)),"constructor"))),e.a=p,t.exports=exports.default}).call(this,n(2)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";(function(t){var r=n(0),o=n.n(r),i=n(5),a=n(1);function c(t,e,n){var r=e.$store?e.$store.getters:e.getters,i=Object.keys(r),a=n?new RegExp("^"+n+"/"):new RegExp("");o()(i).filter(function(t){return a.test(t)}).map(function(e){var n=e.replace(/[-_\w\d]+\//,"");!function(t,e,n,r){try{Object.defineProperty(t,e,{get:function(){return o.a.get(n,r)}})}catch(t){}}(t,n,r,e)}).value()}function u(t,e,n){if(o.a.isString(n)){if(!o.a.get(t,n))throw new Error("The function does not exist. "+e+"."+n)}else o.a.forEach(n,function(n,r){if(!o.a.get(t,r))throw new Error("The function does not exist. "+e+"."+r)})}function s(t,e,n,r){var i=t.$store?t.$store.state:t.state,a=e?Object.keys(o.a.get(i,e)):Object.keys(i);o()(a).map(function(i){if(o.a.get(r,i)){var a="".concat(e,".").concat(i).replace(/^\./,"");s(t,a,i,r)}else{var c="".concat(e,".").concat(i).replace(/^\./,"");!function(t,e,n,r,i){var a=e?o.a.get(t,e):t;try{Object.defineProperty(a,n,{get:function(){var t=r.$store?r.$store.state:r.state;return o.a.get(t,i)},set:function(t){var e=r.$store?r.$store.state:r.state;o.a.set(e,i,t)}})}catch(t){}}(r,n,i,t,c)}}).value()}var f={};e.a=function(t){var e=t.hook;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=this;o.a.isString(t)||(n=t,t=""),n&&(r=n);var l,p=t.trim().replace(" ","").split(","),y={};return p.forEach(function(t){var n=/.+\/([-_\w\d]+)$/;if(l=(n.test(t)?n.exec(t)[1]:t)||"Root",f[l])y[l]=f[l];else{var p={};c(p,r,t),function(t,e,n,r,i){var c=e.$store?e.$store._actions:e._actions,s=Object.keys(c),f=n?new RegExp("^"+n+"/"):new RegExp("");o()(s).filter(function(t){return f.test(t)}).map(function(n){var c=n.replace(f,"").split("/").join(".");if(o.a.get(t,c))throw new Error("duplicate key");var s=e.$store?e.$store:e,l=function(t,e){var r,o=Array.prototype.slice.call(arguments);return r=1===o.length?t:o,s.dispatch(n,r)};i?(o.a.set(t,c,a.a.getHook(r,c,l)),o.a.set(t,"hook",function(e){u(t,r,e);var n=o.a.partial(a.a.hook,r).apply(this,[].slice.call(arguments));o.a.isObject(n)?o.a.forEach(n,function(e,n){return o.a.set(t,n,e)}):o.a.set(t,e,n)}),o.a.set(t,"pre",function(){return o.a.partial(a.a.pre,r).apply(this,[].slice.call(arguments)),t}),o.a.set(t,"post",function(){return o.a.partial(a.a.post,r).apply(this,[].slice.call(arguments)),t})):o.a.set(t,c,l)}).value()}(p,r,t,l,e),function(t,e,n,r,i){var c=e.$store?e.$store._mutations:e._mutations,s=Object.keys(c),f=n?new RegExp("^"+n+"/"):new RegExp("");o()(s).filter(function(t){return f.test(t)}).map(function(n){var c=n.replace(f,"").split("/");c.splice(c.length-1,0,"m");var s=c.join("."),l=e.$store?e.$store:e,p=function(t,e){var r={},o=Array.prototype.slice.call(arguments);return r=1===o.length?t:o,l.commit(n,r)};i?(o.a.set(t,s,a.a.getHook(r,s,p)),o.a.set(t,"hook",function(e){u(t,r,e);var n=o.a.partial(a.a.hook,r).apply(this,[].slice.call(arguments));o.a.isObject(n)?o.a.forEach(n,function(e,n){return o.a.set(t,n,e)}):o.a.set(t,e,n)}),o.a.set(t,"pre",function(){return o.a.partial(a.a.pre,r).apply(this,[].slice.call(arguments)),t}),o.a.set(t,"post",function(){return o.a.partial(a.a.post,r).apply(this,[].slice.call(arguments)),t})):o.a.set(t,s,p)}).value()}(p,r,t,l,e),function(t,e,n){s(e,n.split("/").join("."),"",t)}(p,r,t),o.a.merge(p,i.a.getInstance(t)),y[l]=p,f[l]=p}}),p.length>1?y:y[l]}},t.exports=exports.default}).call(this,n(2)(t))},function(t,e){t.exports=require("vuex")},function(t,e,n){"use strict";(function(t){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r="$$tinyEventListeners",o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={}}var e,o,i;return e=t,(o=[{key:"$on",value:function(t,e,n){this[r]||(this[r]={});var o=this[r];if(o[e]||(o[e]=[]),o[e].push(n),t&&t.$on){var i=this;t.$on("hook:beforeDestroy",function(){i.$off(e,n)})}return this}},{key:"$once",value:function(t,e,n,r){var o=this,i=function t(){r.apply(this,arguments),o.$off(e,t),o.$off(n,t)};return this.$on(t,e,i),this.$on(t,n,i),this}},{key:"$off",value:function(t,e){if(!this[r]||!this[r][t])return this;var n=this[r];if(e){var o=n[t],i=o.indexOf(e);i>-1&&o.splice(i,1)}else delete n[t];return this}},{key:"getListeners",value:function(t){var e=this;return Object.keys(e[r]).filter(function(e){return new RegExp(e.replace(/\./g,"\\.").replace(/\*/g,".*")+"$").test(t)}).reduce(function(t,n){return t.concat(e[r][n])},[])}},{key:"$emit",value:function(t){if(this[r]){for(var e=this.getListeners.call(this,t),n=[].slice.call(arguments,1),o=0;o<e.length;o++)e[o].apply(null,n);return this}}},{key:"getInstance",value:function(t){var e=this;if(this.events[t])return this.events[t];var n={$emit:function(n,r){e.$emit("".concat(t,".").concat(n),r)},$broadcast:function(t,n){e.$emit("__All__.".concat(t),n)},$on:function(n,r,o){"string"==typeof n&&(o=r,r=n,n=null),e.$on(n,"".concat(t,".").concat(r),o),e.$on(n,"__All__.".concat(r),o)},$once:function(n,r,o){"string"==typeof n&&(o=r,r=n,n=null),e.$once(n,"".concat(t,".").concat(r),"__All__.".concat(r),o)},$off:function(n,r){e.$off("".concat(t,".").concat(n),r),e.$off("__All__.".concat(n),r)}};return this.events[t]=n,n}}])&&n(e.prototype,o),i&&n(e,i),t}();e.a=new o,t.exports=exports.default}).call(this,n(2)(t))},function(t,e,n){t.exports=n(7)},function(t,e,n){"use strict";n.r(e);var r=n(4),o=n.n(r),i=n(0),a=n.n(i);function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u={set:function(t,e){var n=c(e,2),r=n[0],o=n[1];a.a.set(t,r,o)},add:function(t,e){var n=c(e,2),r=n[0],o=n[1];a.a.get(t,r).push(o)},update:function(t,e){var n=c(e,2),r=n[0],o=n[1];a.a.isString(r)?a.a.set(t,r,o):a.a.merge(r,o)},remove:function(t,e){var n=c(e,2),r=n[0],o=n[1];a.a.get(t,r).splice(a.a.get(t,r).indexOf(o),1)}};var s,f=n(3);function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.store,r="$$store";s=n?Object(i.partialRight)(Object(f.a)(e),n):Object(f.a)(e),t.prototype.hasOwnProperty(r)||(Object.defineProperty(t.prototype,r,{get:function(){return s}}),o.a.Store.prototype[r]=s)}n.d(e,"Store",function(){return s}),n.d(e,"defaultMutations",function(){return u}),l.version="__VERSION__";e.default=l}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWV4LXNlcnZpY2Uvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL3Z1ZXgtc2VydmljZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly92dWV4LXNlcnZpY2UvZXh0ZXJuYWwgXCJsb2Rhc2hcIiIsIndlYnBhY2s6Ly92dWV4LXNlcnZpY2UvLi9jb3JlL2hvb2tzLmpzIiwid2VicGFjazovL3Z1ZXgtc2VydmljZS8od2VicGFjaykvYnVpbGRpbi9oYXJtb255LW1vZHVsZS5qcyIsIndlYnBhY2s6Ly92dWV4LXNlcnZpY2UvLi9jb3JlL21ha2VTdG9yZVNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vdnVleC1zZXJ2aWNlL2V4dGVybmFsIFwidnVleFwiIiwid2VicGFjazovL3Z1ZXgtc2VydmljZS8uL2NvcmUvRXZlbnRCdXMuanMiLCJ3ZWJwYWNrOi8vdnVleC1zZXJ2aWNlLy4vY29yZS9hZGRNdXRhdGlvbi5qcyIsIndlYnBhY2s6Ly92dWV4LXNlcnZpY2UvLi9jb3JlL2luZGV4LmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJ0aGlzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInJlcXVpcmUiLCJfcHJlcyIsIl9wb3N0cyIsIl9ob29rcyIsIm9uY2UiLCJmbiIsInNjb3BlIiwiZm5XcmFwcGVyIiwiaG9va0NhbGxlZCIsImFwcGx5IiwiYXJndW1lbnRzIiwib2JqIiwiaG9va3MiLCJuYW1lc3BhY2UiLCJob29rIiwiZXJyb3JDYiIsInByb3RvIiwiJHByZXMiLCIkcG9zdHMiLCJsZW5ndGgiLCJfdHlwZW9mIiwiaG9va2VkIiwiayIsImhvb2tBcmdzIiwibGFzdEFyZyIsInByZXMiLCJwb3N0cyIsIl90b3RhbCIsIl9jdXJyZW50IiwiX2FzeW5jc0xlZnQiLCJudW1Bc3luY1ByZXMiLCJfZG9uZSIsInJldCIsInRvdGFsXyIsImN1cnJlbnRfIiwibmV4dF8iLCJhcmdzXyIsIkFycmF5Iiwic2xpY2UiLCJFcnJvciIsImhhbmRsZUVycm9yIiwiY3VyclBvc3QiLCJwb3N0QXJncyIsImNvbmNhdCIsImVyciIsIl9uZXh0IiwiY3VyclByZSIsInByZUFyZ3MiLCJfYXJncyIsImlzQXN5bmMiLCJfYXN5bmNzRG9uZSIsIl9sYXp5U2V0dXBIb29rcyIsInB1c2giLCJmblRvUmVtb3ZlIiwiZmlsdGVyIiwiY3VyckZuIiwibWV0aG9kTmFtZSIsIl8iLCJiaW5kQWxsIiwid2l0aG91dCIsImdldE93blByb3BlcnR5TmFtZXMiLCJnZXRQcm90b3R5cGVPZiIsIm9yaWdpbmFsTW9kdWxlIiwid2VicGFja1BvbHlmaWxsIiwiY2hpbGRyZW4iLCJsb2Rhc2hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsImxvZGFzaF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQiLCJfRXZlbnRCdXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIl9ob29rc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fIiwiZ2V0dGVycyIsInNlcnZpY2UiLCIkc3RvcmUiLCJrZXlzIiwicmVnZXgiLCJSZWdFeHAiLCJ0ZXN0IiwibWFwIiwiZm5OYW1lIiwicmVwbGFjZSIsImZpZWxkTmFtZSIsImUiLCJzZXRHZXR0ZXIiLCJjaGVja0V4aXN0Rm4iLCJwcm9wIiwiaXNTdHJpbmciLCJmb3JFYWNoIiwiZXhwb3J0U3RhdGUiLCJyZWYiLCJzdGF0ZSIsIl9rZXkiLCJ0YXJnZXQiLCJzZXQiLCJuZXdWYWx1ZSIsInNldFN0YXRlR2V0dGVyIiwiY2FjaGUiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwib3B0aW9ucyIsImlzVXNlSG9vayIsInVuZGVmaW5lZCIsInN0b3JlIiwibmFtZXMiLCJ0cmltIiwic3BsaXQiLCJncm91cCIsImV4ZWMiLCJhY3Rpb25zIiwiX2FjdGlvbnMiLCJqb2luIiwidGhhdCIsInBheWxvYWQiLCJkYXRhIiwiYXJncyIsImRpc3BhdGNoIiwiZ2V0SG9vayIsInBhcnRpYWwiLCJpc09iamVjdCIsInByZSIsInBvc3QiLCJtdXRhdGlvbnMiLCJfbXV0YXRpb25zIiwicHJvcHMiLCJzcGxpY2UiLCJjb21taXQiLCJtZXJnZSIsIkV2ZW50QnVzIiwiZ2V0SW5zdGFuY2UiLCJfY2xhc3NDYWxsQ2hlY2siLCJldmVudHMiLCIkc2NvcGUiLCJldmVudCIsIiRvbiIsIiRvZmYiLCJicm9hZEV2ZW50IiwiY2IiLCJsaXN0ZW5lcnMiLCJpbmRleCIsImluZGV4T2YiLCJldnQiLCJyZWR1Y2UiLCJhcnIiLCJnZXRMaXN0ZW5lcnMiLCJwYXJhbXMiLCJpbnN0YW5jZSIsIiRlbWl0IiwiJGJyb2FkY2FzdCIsIiRvbmNlIiwiZGVmYXVsdE11dGF0aW9ucyIsIl9yZWYiLCJfcmVmMiIsIl9zbGljZWRUb0FycmF5IiwiYWRkIiwiX3JlZjMiLCJfcmVmNCIsInVwZGF0ZSIsIl9yZWY1IiwiX3JlZjYiLCJyZW1vdmUiLCJfcmVmNyIsIl9yZWY4IiwiU3RvcmUiLCJwbHVnaW4iLCJWdWUiLCJwYXJ0aWFsUmlnaHQiLCJfU3RvcmUiLCJWdWV4IiwidmVyc2lvbiJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsR0FDQSxpQkFBQUMsU0FBQSxpQkFBQUMsT0FDQUEsT0FBQUQsUUFBQUQsSUFDQSxtQkFBQUcsZUFBQUMsSUFD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QUssQ0FDeENWLElBRHdDLFdBRXRDLE9BQU9rTCxLQUdYSyxJQUFLTCxNQUFNbkssVUFBVUwsR0FBT3dLLEdBM0JoQ2pNLEVBQUFRLEVBQUF5SCxFQUFBLDBCQUFBZ0UsSUFBQWpNLEVBQUFRLEVBQUF5SCxFQUFBLHFDQUFBbUQsSUErQkFjLEVBQU9LLFFBQVUsY0FFRkwiLCJmaWxlIjoidnVleC1zZXJ2aWNlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwidnVleC1zZXJ2aWNlXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcInZ1ZXgtc2VydmljZVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJ2dWV4LXNlcnZpY2VcIl0gPSBmYWN0b3J5KCk7XG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDYpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibG9kYXNoXCIpOyIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1pbm5lci1kZWNsYXJhdGlvbnMgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSAqL1xuLyogZXNsaW50LWRpc2FibGUgY29uc2lzdGVudC1yZXR1cm4gKi9cbi8vIG1vZGlmaWVkIGh0dHBzOi8vZ2l0aHViLmNvbS9ibm9ndWNoaS9ob29rcy1qc1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuLy8gVE9ETyBBZGQgaW4gcHJlIGFuZCBwb3N0IHNraXBwaW5nIG9wdGlvbnNcbmxldCBfcHJlcyA9IHt9O1xubGV0IF9wb3N0cyA9IHt9O1xubGV0IF9ob29rcyA9IHt9O1xuXG5jbGFzcyBIb29LIHtcbiAgZ2V0SG9vayhuYW1lc3BhY2UsIG5hbWUsIGZuKSB7XG4gICAgdmFyIGhvb2sgPSBfaG9va3NbbmFtZXNwYWNlXTtcblxuICAgIHJldHVybiAoaG9vayAmJiBob29rW25hbWVdKSB8fCBmbjtcbiAgfVxuICAvKipcbiAgICogIERlY2xhcmVzIGEgbmV3IGhvb2sgdG8gd2hpY2ggeW91IGNhbiBhZGQgcHJlcyBhbmQgcG9zdHNcbiAgICogIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG9mIHRoZSBmdW5jdGlvblxuICAgKiAgQHBhcmFtIHtGdW5jdGlvbn0gdGhlIG1ldGhvZFxuICAgKiAgQHBhcmFtIHtGdW5jdGlvbn0gdGhlIGVycm9yIGhhbmRsZXIgY2FsbGJhY2tcbiAgICovXG4gIGhvb2sobmFtZXNwYWNlLCBuYW1lLCBmbiwgZXJyb3JDYikge1xuICAgIHZhciBwcm90byA9IChfaG9va3NbbmFtZXNwYWNlXSA9IF9ob29rc1tuYW1lc3BhY2VdIHx8IHt9KSxcbiAgICAgICRwcmVzID0gKF9wcmVzW25hbWVzcGFjZV0gPSBfcHJlc1tuYW1lc3BhY2VdIHx8IHt9KSxcbiAgICAgICRwb3N0cyA9IChfcG9zdHNbbmFtZXNwYWNlXSA9IF9wb3N0c1tuYW1lc3BhY2VdIHx8IHt9KTtcblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyICYmIHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKCdTcGVjaWZ5IG9uZSBob29rIGF0IGEgdGltZS4nKVxuICAgICAgbGV0IGhvb2tlZCA9IHt9O1xuXG4gICAgICBmb3IgKGxldCBrIGluIG5hbWUpIHtcbiAgICAgICAgLy8gYG5hbWVgIGlzIGEgaGFzaCBvZiBob29rTmFtZS0+aG9va0ZuXG4gICAgICAgIGhvb2tlZFtrXSA9IHRoaXMuaG9vayhuYW1lc3BhY2UsIGssIG5hbWVba10pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhvb2tlZDtcbiAgICB9XG5cbiAgICAkcHJlc1tuYW1lXSA9ICRwcmVzW25hbWVdIHx8IFtdO1xuICAgICRwb3N0c1tuYW1lXSA9ICRwb3N0c1tuYW1lXSB8fCBbXTtcblxuICAgIGlmIChwcm90b1tuYW1lXSkge1xuICAgICAgcmV0dXJuIHByb3RvW25hbWVdO1xuICAgIH1cblxuICAgIHByb3RvW25hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBob29rQXJncywgLy8gYXJndW1lbnRzIGV2ZW50dWFsbHkgcGFzc2VkIHRvIHRoZSBob29rIC0gYXJlIG11dGFibGVcbiAgICAgICAgbGFzdEFyZyA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV0sXG4gICAgICAgIHByZXMgPSAkcHJlc1tuYW1lXSxcbiAgICAgICAgcG9zdHMgPSAkcG9zdHNbbmFtZV0sXG4gICAgICAgIF90b3RhbCA9IHByZXMubGVuZ3RoLFxuICAgICAgICBfY3VycmVudCA9IC0xLFxuICAgICAgICBfYXN5bmNzTGVmdCA9IHByb3RvW25hbWVdLm51bUFzeW5jUHJlcyxcbiAgICAgICAgX25leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKGFyZ3VtZW50c1swXSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlRXJyb3IoYXJndW1lbnRzWzBdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IF9hcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxcbiAgICAgICAgICAgIGN1cnJQcmUsXG4gICAgICAgICAgICBwcmVBcmdzO1xuXG4gICAgICAgICAgaWYgKF9hcmdzLmxlbmd0aCAmJiAhKGFyZ3VtZW50c1swXSA9PSBudWxsICYmIHR5cGVvZiBsYXN0QXJnID09PSAnZnVuY3Rpb24nKSkgeyBob29rQXJncyA9IF9hcmdzOyB9O1xuICAgICAgICAgIGlmICgrK19jdXJyZW50IDwgX3RvdGFsKSB7XG4gICAgICAgICAgICBjdXJyUHJlID0gcHJlc1tfY3VycmVudF07XG4gICAgICAgICAgICBpZiAoY3VyclByZS5pc0FzeW5jICYmIGN1cnJQcmUubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgJ1lvdXIgcHJlIG11c3QgaGF2ZSBuZXh0IGFuZCBkb25lIGFyZ3VtZW50cyAtLSBlLmcuLCBmdW5jdGlvbiAobmV4dCwgZG9uZSwgLi4uKSdcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoY3VyclByZS5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91ciBwcmUgbXVzdCBoYXZlIGEgbmV4dCBhcmd1bWVudCAtLSBlLmcuLCBmdW5jdGlvbiAobmV4dCwgLi4uKScpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHByZUFyZ3MgPSAoY3VyclByZS5pc0FzeW5jID8gW29uY2UoX25leHQpLCBvbmNlKF9hc3luY3NEb25lKV0gOiBbb25jZShfbmV4dCldKS5jb25jYXQoXG4gICAgICAgICAgICAgIGhvb2tBcmdzXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJQcmUuYXBwbHkoc2VsZiwgcHJlQXJncyk7XG4gICAgICAgICAgfSBlbHNlIGlmICghcHJvdG9bbmFtZV0ubnVtQXN5bmNQcmVzKSB7XG4gICAgICAgICAgICByZXR1cm4gX2RvbmUuYXBwbHkoc2VsZiwgaG9va0FyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX2RvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGFyZ3NfID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxcbiAgICAgICAgICAgIHJldCxcbiAgICAgICAgICAgIHRvdGFsXyxcbiAgICAgICAgICAgIGN1cnJlbnRfLFxuICAgICAgICAgICAgbmV4dF8sXG4gICAgICAgICAgICBkb25lXyxcbiAgICAgICAgICAgIHBvc3RBcmdzO1xuXG4gICAgICAgICAgaWYgKF9jdXJyZW50ID09PSBfdG90YWwpIHtcbiAgICAgICAgICAgIG5leHRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzWzBdIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlRXJyb3IoYXJndW1lbnRzWzBdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsZXQgYXJnc18gPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICAgICAgICBsZXQgY3VyclBvc3Q7XG4gICAgICAgICAgICAgIGxldCBwb3N0QXJncztcblxuICAgICAgICAgICAgICBpZiAoYXJnc18ubGVuZ3RoKSBob29rQXJncyA9IGFyZ3NfO1xuICAgICAgICAgICAgICBpZiAoKytjdXJyZW50XyA8IHRvdGFsXykge1xuICAgICAgICAgICAgICAgIGN1cnJQb3N0ID0gcG9zdHNbY3VycmVudF9dO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyUG9zdC5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICdZb3VyIHBvc3QgbXVzdCBoYXZlIGEgbmV4dCBhcmd1bWVudCAtLSBlLmcuLCBmdW5jdGlvbiAobmV4dCwgLi4uKSdcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBwb3N0QXJncyA9IFtvbmNlKG5leHRfKV0uY29uY2F0KGhvb2tBcmdzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VyclBvc3QuYXBwbHkoc2VsZiwgcG9zdEFyZ3MpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsYXN0QXJnID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgLy8gQWxsIHBvc3QgaGFuZGxlcnMgYXJlIGRvbmUsIGNhbGwgb3JpZ2luYWwgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICByZXR1cm4gbGFzdEFyZy5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBXZSBhcmUgYXNzdW1pbmcgdGhhdCBpZiB0aGUgbGFzdCBhcmd1bWVudCBwcm92aWRlZCB0byB0aGUgd3JhcHBlZCBmdW5jdGlvbiBpcyBhIGZ1bmN0aW9uLFxuICAgICAgICAgICAgLy8gaXQgd2FzIGV4cGVjdGluZyBhIGNhbGxiYWNrLlxuICAgICAgICAgICAgLy8gV2UgdHJhcCB0aGF0IGNhbGxiYWNrIGFuZCB3YWl0IHRvIGNhbGwgaXQgdW50aWwgYWxsIHBvc3QgaGFuZGxlcnMgaGF2ZSBmaW5pc2hlZC5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgbGFzdEFyZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBhcmdzX1thcmdzXy5sZW5ndGggLSAxXSA9IG9uY2UobmV4dF8pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0b3RhbF8gPSBwb3N0cy5sZW5ndGg7XG4gICAgICAgICAgICBjdXJyZW50XyA9IC0xO1xuICAgICAgICAgICAgcmV0ID0gZm4uYXBwbHkoc2VsZiwgYXJnc18pOyAvLyBFeGVjdXRlIHdyYXBwZWQgZnVuY3Rpb24sIHBvc3QgaGFuZGxlcnMgY29tZSBhZnRlcndhcmRcblxuICAgICAgICAgICAgLy8gbm8gY2FsbGJhY2sgcHJvdmlkZWQsIGV4ZWN1dGUgbmV4dF8oKSBtYW51YWxseVxuICAgICAgICAgICAgaWYgKHRvdGFsXyAmJiB0eXBlb2YgbGFzdEFyZyAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIG5leHRfKCk7XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgaWYgKF9hc3luY3NMZWZ0KSB7XG4gICAgICAgIGZ1bmN0aW9uIF9hc3luY3NEb25lKGVycikge1xuICAgICAgICAgIGlmIChlcnIgJiYgZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVFcnJvcihlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAtLV9hc3luY3NMZWZ0IHx8IF9kb25lLmFwcGx5KHNlbGYsIGhvb2tBcmdzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbGFzdEFyZyA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGxhc3RBcmcoZXJyKTtcbiAgICAgICAgaWYgKGVycm9yQ2IpIHJldHVybiBlcnJvckNiLmNhbGwoc2VsZiwgZXJyKTtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9uZXh0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIHByb3RvW25hbWVdLm51bUFzeW5jUHJlcyA9IDA7XG5cbiAgICByZXR1cm4gcHJvdG9bbmFtZV07XG4gIH1cblxuICBwcmUobmFtZXNwYWNlLCBuYW1lLCBpc0FzeW5jLCBmbiwgZXJyb3JDYikge1xuICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzJdICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIGVycm9yQ2IgPSBmbjtcbiAgICAgIGZuID0gaXNBc3luYztcbiAgICAgIGlzQXN5bmMgPSBmYWxzZTtcbiAgICB9XG4gICAgbGV0IHByb3RvID0gKF9ob29rc1tuYW1lc3BhY2VdID0gX2hvb2tzW25hbWVzcGFjZV0gfHwge30pO1xuICAgIGxldCBwcmVzID0gKF9wcmVzW25hbWVzcGFjZV0gPSBfcHJlc1tuYW1lc3BhY2VdIHx8IHt9KTtcblxuICAgIC8vIHZhciBwcm90byA9IHRoaXMucHJvdG90eXBlIHx8IHRoaXMsXG4gICAgLy8gICBwcmVzID0gKF9wcmVzID0gX3ByZXMgfHwge30pXG5cbiAgICB0aGlzLl9sYXp5U2V0dXBIb29rcyhuYW1lc3BhY2UsIHByb3RvLCBuYW1lLCBlcnJvckNiKTtcblxuICAgIGlmICgoZm4uaXNBc3luYyA9IGlzQXN5bmMpKSB7XG4gICAgICBwcm90b1tuYW1lXS5udW1Bc3luY1ByZXMrKztcbiAgICB9XG5cbiAgICA7IChwcmVzW25hbWVdID0gcHJlc1tuYW1lXSB8fCBbXSkucHVzaChmbik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwb3N0KG5hbWVzcGFjZSwgbmFtZSwgaXNBc3luYywgZm4pIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykge1xuICAgICAgZm4gPSBpc0FzeW5jO1xuICAgICAgaXNBc3luYyA9IGZhbHNlO1xuICAgIH1cbiAgICBsZXQgcHJvdG8gPSAoX2hvb2tzW25hbWVzcGFjZV0gPSBfaG9va3NbbmFtZXNwYWNlXSB8fCB7fSksXG4gICAgICBwb3N0cyA9IChfcG9zdHNbbmFtZXNwYWNlXSA9IF9wb3N0c1tuYW1lc3BhY2VdIHx8IHt9KTtcblxuICAgIHRoaXMuX2xhenlTZXR1cEhvb2tzKG5hbWVzcGFjZSwgcHJvdG8sIG5hbWUpO1xuICAgIChwb3N0c1tuYW1lXSA9IHBvc3RzW25hbWVdIHx8IFtdKS5wdXNoKGZuKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJlbW92ZVByZShuYW1lc3BhY2UsIG5hbWUsIGZuVG9SZW1vdmUpIHtcbiAgICAvLyBsZXQgcHJvdG8gPSAoX2hvb2tzW25hbWVzcGFjZV0gPSBfaG9va3NbbmFtZXNwYWNlXSB8fCB7fSk7XG4gICAgbGV0IHByZXMgPSAoX3ByZXNbbmFtZXNwYWNlXSA9IF9wcmVzW25hbWVzcGFjZV0gfHwge30pO1xuICAgIC8vIHZhciBwcm90byA9IHRoaXMucHJvdG90eXBlIHx8IHRoaXMsXG4gICAgLy8gICBwcmVzID0gX3ByZXMgfHwgKF9wcmVzIHx8IHt9KVxuXG4gICAgaWYgKCFwcmVzW25hbWVdKSByZXR1cm4gdGhpcztcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgLy8gUmVtb3ZlIGFsbCBwcmUgY2FsbGJhY2tzIGZvciBob29rIGBuYW1lYFxuICAgICAgcHJlc1tuYW1lXS5sZW5ndGggPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcmVzW25hbWVdID0gcHJlc1tuYW1lXS5maWx0ZXIoZnVuY3Rpb24gKGN1cnJGbikge1xuICAgICAgICByZXR1cm4gY3VyckZuICE9PSBmblRvUmVtb3ZlO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgX2xhenlTZXR1cEhvb2tzKG5hbWVzcGFjZSwgcHJvdG8sIG1ldGhvZE5hbWUsIGVycm9yQ2IpIHtcbiAgICBpZiAoIXByb3RvW21ldGhvZE5hbWVdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBob29rIGlzIG5vdCBzZXQuICR7bmFtZXNwYWNlfS4ke21ldGhvZE5hbWV9YCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcHJvdG9bbWV0aG9kTmFtZV0ubnVtQXN5bmNQcmVzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5ob29rKG1ldGhvZE5hbWUsIHByb3RvW21ldGhvZE5hbWVdLCBlcnJvckNiKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gb25jZShmbiwgc2NvcGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGZuV3JhcHBlcigpIHtcbiAgICBpZiAoZm5XcmFwcGVyLmhvb2tDYWxsZWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgZm5XcmFwcGVyLmhvb2tDYWxsZWQgPSB0cnVlO1xuICAgIHJldHVybiBmbi5hcHBseShzY29wZSwgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcHJvcHMob2JqKSB7XG4gIHJldHVybiBfLndpdGhvdXQoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikpLCAnY29uc3RydWN0b3InKTtcbn1cbmNvbnN0IGhvb2tzID0gbmV3IEhvb0soKTtcblxuXy5iaW5kQWxsKGhvb2tzLCBwcm9wcyhob29rcykpO1xuZXhwb3J0IGRlZmF1bHQgaG9va3M7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9yaWdpbmFsTW9kdWxlKSB7XG5cdGlmICghb3JpZ2luYWxNb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0dmFyIG1vZHVsZSA9IE9iamVjdC5jcmVhdGUob3JpZ2luYWxNb2R1bGUpO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImV4cG9ydHNcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBFdmVudEJ1cyBmcm9tICcuL0V2ZW50QnVzJztcbmltcG9ydCBob29rcyBmcm9tICcuL2hvb2tzJztcblxuZnVuY3Rpb24gc2V0R2V0dGVyKHNlcnZpY2UsIGZuTmFtZSwgZ2V0dGVycywgZmllbGROYW1lKSB7XG4gIHRyeSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlcnZpY2UsIGZuTmFtZSwge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfLmdldChnZXR0ZXJzLCBmaWVsZE5hbWUpO1xuICAgICAgICAvLyByZXR1cm4gZ2V0dGVyc1tmaWVsZE5hbWVdXG4gICAgICB9XG4gICAgICAvLyBzZXQ6IGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XG4gICAgICAvLyAgIGdldHRlcnNbZmllbGROYW1lXSA9IG5ld1ZhbHVlXG4gICAgICAvLyB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHsgfVxufVxuXG5mdW5jdGlvbiBnZXR0ZXJzKHNlcnZpY2UsIHNlbGYsIG5hbWUpIHtcbiAgY29uc3QgZ2V0dGVycyA9IHNlbGYuJHN0b3JlID8gc2VsZi4kc3RvcmUuZ2V0dGVycyA6IHNlbGYuZ2V0dGVycztcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGdldHRlcnMpO1xuICBjb25zdCByZWdleCA9IG5hbWUgPyBuZXcgUmVnRXhwKCdeJyArIG5hbWUgKyAnLycpIDogbmV3IFJlZ0V4cCgnJyk7XG5cbiAgXyhrZXlzKVxuICAgIC5maWx0ZXIoa2V5ID0+IHJlZ2V4LnRlc3Qoa2V5KSlcbiAgICAubWFwKGtleSA9PiB7XG4gICAgICAvLyBjb25zdCBwcm9wZXJ0eSA9IGtleVxuICAgICAgLy8gICAucmVwbGFjZShyZWdleCwgJycpXG4gICAgICAvLyAgIC5zcGxpdCgnLycpXG4gICAgICAvLyAgIC5qb2luKCcuJyk7XG4gICAgICAvLyBfLnNldChzZXJ2aWNlLCBwcm9wZXJ0eSwgZ2V0dGVyc1trZXldKVxuICAgICAgdmFyIGZuTmFtZSA9IGtleS5yZXBsYWNlKC9bLV9cXHdcXGRdK1xcLy8sICcnKTtcblxuICAgICAgc2V0R2V0dGVyKHNlcnZpY2UsIGZuTmFtZSwgZ2V0dGVycywga2V5KTtcbiAgICB9KVxuICAgIC52YWx1ZSgpO1xufVxuXG5mdW5jdGlvbiBjaGVja0V4aXN0Rm4oc2VydmljZSwgcHJvcCwgcHJvcGVydHkpIHtcbiAgbGV0IGlzRm47XG5cbiAgaWYgKF8uaXNTdHJpbmcocHJvcGVydHkpKSB7XG4gICAgaXNGbiA9IF8uZ2V0KHNlcnZpY2UsIHByb3BlcnR5KTtcblxuICAgIGlmICghaXNGbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgZnVuY3Rpb24gZG9lcyBub3QgZXhpc3QuICcgKyBwcm9wICsgJy4nICsgcHJvcGVydHkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBfLmZvckVhY2gocHJvcGVydHksICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICBpc0ZuID0gXy5nZXQoc2VydmljZSwga2V5KTtcblxuICAgICAgaWYgKCFpc0ZuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGZ1bmN0aW9uIGRvZXMgbm90IGV4aXN0LiAnICsgcHJvcCArICcuJyArIGtleSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHsqfSBzZXJ2aWNlIC0gdnVleFNlcnZpY2Ug6rCd7LK0XG4gKiBAcGFyYW0geyp9IGtleSAtIHZ1ZXjsnZgg66qo65OIIOydtOumhFxuICogQHBhcmFtIHsqfSBwcm9wIC0gdnVleFNlcnZpY2Ug6rCd7LK07JeQIO2VoOuLuSDtlaAgcHJvcGVydHkgbmFtZVxuICogQHBhcmFtIHsqfSByZWYgLSBzdG9yZSByZWZlcmVuY2VcbiAqIEBwYXJhbSB7Kn0gcHJvcGVydHkgLSDsi6TsoJwgcmVm7JeQ7IScIOywuOyhsO2VoCDqsr3roZxcbiAqL1xuZnVuY3Rpb24gc2V0U3RhdGVHZXR0ZXIoc2VydmljZSwga2V5LCBwcm9wLCByZWYsIHByb3BlcnR5KSB7XG4gIGNvbnN0IHRhcmdldCA9IGtleSA/IF8uZ2V0KHNlcnZpY2UsIGtleSkgOiBzZXJ2aWNlO1xuXG4gIHRyeSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcCwge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHJlZi4kc3RvcmUgPyByZWYuJHN0b3JlLnN0YXRlIDogcmVmLnN0YXRlO1xuXG4gICAgICAgIHJldHVybiBfLmdldChzdGF0ZSwgcHJvcGVydHkpO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHJlZi4kc3RvcmUgPyByZWYuJHN0b3JlLnN0YXRlIDogcmVmLnN0YXRlO1xuXG4gICAgICAgIF8uc2V0KHN0YXRlLCBwcm9wZXJ0eSwgbmV3VmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7IH1cbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHsqfSByZWYgLSBzdG9yZSByZWZlcmVuY2VcbiAqIEBwYXJhbSB7Kn0gcm9vdCAtIHZ1ZXjsnZgg66qo65OIIOydtOumhFxuICogQHBhcmFtIHsqfSBrZXkgLSDtlZjsnIQgdnVleOydmCDrqqjrk4gg7J2066aEXG4gKiBAcGFyYW0geyp9IHNlcnZpY2UgLSB2dWV4U2VydmljZSDqsJ3ssrRcbiAqL1xuZnVuY3Rpb24gZXhwb3J0U3RhdGUocmVmLCByb290LCBrZXksIHNlcnZpY2UpIHtcbiAgY29uc3Qgc3RhdGUgPSByZWYuJHN0b3JlID8gcmVmLiRzdG9yZS5zdGF0ZSA6IHJlZi5zdGF0ZTtcbiAgY29uc3Qga2V5cyA9IHJvb3QgPyBPYmplY3Qua2V5cyhfLmdldChzdGF0ZSwgcm9vdCkpIDogT2JqZWN0LmtleXMoc3RhdGUpO1xuXG4gIF8oa2V5cylcbiAgICAubWFwKGZ1bmN0aW9uIChfa2V5KSB7XG4gICAgICBpZiAoIV8uZ2V0KHNlcnZpY2UsIF9rZXkpKSB7XG4gICAgICAgIGNvbnN0IHByb3AgPSBgJHtyb290fS4ke19rZXl9YC5yZXBsYWNlKC9eXFwuLywgJycpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhrZXksICcsJywgX2tleSwgJywnLCBwcm9wKVxuXG4gICAgICAgIHNldFN0YXRlR2V0dGVyKHNlcnZpY2UsIGtleSwgX2tleSwgcmVmLCBwcm9wKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdtb2R1bGUgPScsIHByb3BlcnR5LCAnLCcsIGtleSwgJywnLCBfa2V5KVxuICAgICAgICBjb25zdCBwcm9wID0gYCR7cm9vdH0uJHtfa2V5fWAucmVwbGFjZSgvXlxcLi8sICcnKTtcblxuICAgICAgICBleHBvcnRTdGF0ZShyZWYsIHByb3AsIF9rZXksIHNlcnZpY2UpO1xuICAgICAgfVxuICAgIH0pXG4gICAgLnZhbHVlKCk7XG59XG5cbmZ1bmN0aW9uIGFjdGlvbnMoc2VydmljZSwgc2VsZiwgbmFtZSwgcHJvcCwgaXNVc2VIb29rKSB7XG4gIGNvbnN0IGFjdGlvbnMgPSBzZWxmLiRzdG9yZSA/IHNlbGYuJHN0b3JlLl9hY3Rpb25zIDogc2VsZi5fYWN0aW9ucztcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGFjdGlvbnMpO1xuICBjb25zdCByZWdleCA9IG5hbWUgPyBuZXcgUmVnRXhwKCdeJyArIG5hbWUgKyAnLycpIDogbmV3IFJlZ0V4cCgnJyk7XG5cbiAgXyhrZXlzKVxuICAgIC5maWx0ZXIoa2V5ID0+IHJlZ2V4LnRlc3Qoa2V5KSlcbiAgICAubWFwKGtleSA9PiB7XG4gICAgICBjb25zdCBwcm9wZXJ0eSA9IGtleVxuICAgICAgICAucmVwbGFjZShyZWdleCwgJycpXG4gICAgICAgIC5zcGxpdCgnLycpXG4gICAgICAgIC5qb2luKCcuJyk7XG4gICAgICBjb25zdCBpc0V4aXN0ID0gXy5nZXQoc2VydmljZSwgcHJvcGVydHkpO1xuXG4gICAgICBpZiAoaXNFeGlzdCkgdGhyb3cgbmV3IEVycm9yKCdkdXBsaWNhdGUga2V5Jyk7XG4gICAgICBjb25zdCB0aGF0ID0gc2VsZi4kc3RvcmUgPyBzZWxmLiRzdG9yZSA6IHNlbGY7XG4gICAgICBjb25zdCBmbiA9IGZ1bmN0aW9uIChwYXlsb2FkLCB2YWx1ZSkge1xuICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgY29uc3QgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgZGF0YSA9IHBheWxvYWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF0YSA9IGFyZ3M7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoYXQuZGlzcGF0Y2goa2V5LCBkYXRhKTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChpc1VzZUhvb2spIHtcbiAgICAgICAgXy5zZXQoc2VydmljZSwgcHJvcGVydHksIGhvb2tzLmdldEhvb2socHJvcCwgcHJvcGVydHksIGZuKSk7XG4gICAgICAgIF8uc2V0KHNlcnZpY2UsICdob29rJywgZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICAgICAgY2hlY2tFeGlzdEZuKHNlcnZpY2UsIHByb3AsIHByb3BlcnR5KTtcbiAgICAgICAgICBjb25zdCBob29rZWQgPSBfLnBhcnRpYWwoaG9va3MuaG9vaywgcHJvcCkuYXBwbHkodGhpcywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcblxuICAgICAgICAgIGlmIChfLmlzT2JqZWN0KGhvb2tlZCkpIHtcbiAgICAgICAgICAgIF8uZm9yRWFjaChob29rZWQsIChob29rLCBuYW1lKSA9PiBfLnNldChzZXJ2aWNlLCBuYW1lLCBob29rKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF8uc2V0KHNlcnZpY2UsIHByb3BlcnR5LCBob29rZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIF8uc2V0KHNlcnZpY2UsICdwcmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgXy5wYXJ0aWFsKGhvb2tzLnByZSwgcHJvcCkuYXBwbHkodGhpcywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICAgICAgICByZXR1cm4gc2VydmljZTtcbiAgICAgICAgfSk7XG4gICAgICAgIF8uc2V0KHNlcnZpY2UsICdwb3N0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF8ucGFydGlhbChob29rcy5wb3N0LCBwcm9wKS5hcHBseSh0aGlzLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF8uc2V0KHNlcnZpY2UsIHByb3BlcnR5LCBmbik7XG4gICAgICB9XG4gICAgfSlcbiAgICAudmFsdWUoKTtcbn1cblxuZnVuY3Rpb24gbXV0YXRpb25zKHNlcnZpY2UsIHNlbGYsIG5hbWUsIHByb3AsIGlzVXNlSG9vaykge1xuICBjb25zdCBtdXRhdGlvbnMgPSBzZWxmLiRzdG9yZSA/IHNlbGYuJHN0b3JlLl9tdXRhdGlvbnMgOiBzZWxmLl9tdXRhdGlvbnM7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhtdXRhdGlvbnMpO1xuICBjb25zdCByZWdleCA9IG5hbWUgPyBuZXcgUmVnRXhwKCdeJyArIG5hbWUgKyAnLycpIDogbmV3IFJlZ0V4cCgnJyk7XG5cbiAgXyhrZXlzKVxuICAgIC5maWx0ZXIoa2V5ID0+IHJlZ2V4LnRlc3Qoa2V5KSlcbiAgICAubWFwKGtleSA9PiB7XG4gICAgICBjb25zdCBwcm9wcyA9IGtleS5yZXBsYWNlKHJlZ2V4LCAnJykuc3BsaXQoJy8nKTtcblxuICAgICAgcHJvcHMuc3BsaWNlKHByb3BzLmxlbmd0aCAtIDEsIDAsICdtJyk7XG4gICAgICBjb25zdCBwcm9wZXJ0eSA9IHByb3BzLmpvaW4oJy4nKTtcbiAgICAgIGNvbnN0IHRoYXQgPSBzZWxmLiRzdG9yZSA/IHNlbGYuJHN0b3JlIDogc2VsZjtcbiAgICAgIGNvbnN0IGZuID0gZnVuY3Rpb24gKHByb3AsIHZhbHVlKSB7XG4gICAgICAgIGxldCBkYXRhID0ge307XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIGRhdGEgPSBwcm9wO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRhdGEgPSBhcmdzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGF0LmNvbW1pdChrZXksIGRhdGEpO1xuICAgICAgfTtcblxuICAgICAgaWYgKGlzVXNlSG9vaykge1xuICAgICAgICBfLnNldChzZXJ2aWNlLCBwcm9wZXJ0eSwgaG9va3MuZ2V0SG9vayhwcm9wLCBwcm9wZXJ0eSwgZm4pKTtcbiAgICAgICAgXy5zZXQoc2VydmljZSwgJ2hvb2snLCBmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgICAgICBjaGVja0V4aXN0Rm4oc2VydmljZSwgcHJvcCwgcHJvcGVydHkpO1xuICAgICAgICAgIGNvbnN0IGhvb2tlZCA9IF8ucGFydGlhbChob29rcy5ob29rLCBwcm9wKS5hcHBseSh0aGlzLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuXG4gICAgICAgICAgaWYgKF8uaXNPYmplY3QoaG9va2VkKSkge1xuICAgICAgICAgICAgXy5mb3JFYWNoKGhvb2tlZCwgKGhvb2ssIG5hbWUpID0+IF8uc2V0KHNlcnZpY2UsIG5hbWUsIGhvb2spKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgXy5zZXQoc2VydmljZSwgcHJvcGVydHksIGhvb2tlZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXy5zZXQoc2VydmljZSwgJ3ByZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfLnBhcnRpYWwoaG9va3MucHJlLCBwcm9wKS5hcHBseSh0aGlzLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgICAgICB9KTtcbiAgICAgICAgXy5zZXQoc2VydmljZSwgJ3Bvc3QnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgXy5wYXJ0aWFsKGhvb2tzLnBvc3QsIHByb3ApLmFwcGx5KHRoaXMsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgXy5zZXQoc2VydmljZSwgcHJvcGVydHksIGZuKTtcbiAgICAgIH1cbiAgICB9KVxuICAgIC52YWx1ZSgpO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0geyp9IHNlcnZpY2UgLSB2dWV4U2VydmljZSDqsJ3ssrRcbiAqIEBwYXJhbSB7Kn0gc2VsZiAtIHN0b3JlIHJlZmVyZW5jZVxuICogQHBhcmFtIHsqfSBuYW1lIC0gdnVleFNlcnZpY2XsnZgg7JqU7LKtIOydtOumhCwgVG9kbywgJycsIFRvZG8vY29tbWVudHNcbiAqL1xuZnVuY3Rpb24gc3RhdGUoc2VydmljZSwgc2VsZiwgbmFtZSkge1xuICBjb25zdCBrZXkgPSBuYW1lLnNwbGl0KCcvJykuam9pbignLicpO1xuXG4gIGV4cG9ydFN0YXRlKHNlbGYsIGtleSwgJycsIHNlcnZpY2UpO1xufVxuXG5sZXQgY2FjaGUgPSB7fTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgY29uc3QgaXNVc2VIb29rID0gb3B0aW9ucy5ob29rO1xuXG4gIHJldHVybiBmdW5jdGlvbiBTdG9yZShuYW1lID0gJycsIHN0b3JlKSB7XG4gICAgbGV0IHJlZiA9IHRoaXM7XG5cbiAgICBpZiAoIV8uaXNTdHJpbmcobmFtZSkpIHtcbiAgICAgIHN0b3JlID0gbmFtZTtcbiAgICAgIG5hbWUgPSAnJztcbiAgICB9XG4gICAgaWYgKHN0b3JlKSB7XG4gICAgICByZWYgPSBzdG9yZTtcbiAgICB9XG4gICAgY29uc3QgbmFtZXMgPSBuYW1lXG4gICAgICAudHJpbSgpXG4gICAgICAucmVwbGFjZSgnICcsICcnKVxuICAgICAgLnNwbGl0KCcsJyk7XG4gICAgbGV0IGdyb3VwID0ge307XG4gICAgbGV0IHByb3A7XG5cbiAgICBuYW1lcy5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgY29uc3QgcmVnZXggPSAvLitcXC8oWy1fXFx3XFxkXSspJC87XG5cbiAgICAgIHByb3AgPSAocmVnZXgudGVzdChuYW1lKSA/IHJlZ2V4LmV4ZWMobmFtZSlbMV0gOiBuYW1lKSB8fCAnUm9vdCc7XG5cbiAgICAgIGlmIChjYWNoZVtwcm9wXSkge1xuICAgICAgICBncm91cFtwcm9wXSA9IGNhY2hlW3Byb3BdO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCBzZXJ2aWNlID0ge307XG5cbiAgICAgIGdldHRlcnMoc2VydmljZSwgcmVmLCBuYW1lKTtcbiAgICAgIGFjdGlvbnMoc2VydmljZSwgcmVmLCBuYW1lLCBwcm9wLCBpc1VzZUhvb2spO1xuICAgICAgbXV0YXRpb25zKHNlcnZpY2UsIHJlZiwgbmFtZSwgcHJvcCwgaXNVc2VIb29rKTtcbiAgICAgIHN0YXRlKHNlcnZpY2UsIHJlZiwgbmFtZSk7XG4gICAgICBfLm1lcmdlKHNlcnZpY2UsIEV2ZW50QnVzLmdldEluc3RhbmNlKG5hbWUpKTtcbiAgICAgIGdyb3VwW3Byb3BdID0gc2VydmljZTtcbiAgICAgIGNhY2hlW3Byb3BdID0gc2VydmljZTtcbiAgICB9KTtcblxuICAgIHJldHVybiBuYW1lcy5sZW5ndGggPiAxID8gZ3JvdXAgOiBncm91cFtwcm9wXTtcbiAgfTtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInZ1ZXhcIik7IiwiLy8gcmVmZXJlbmNlIGh0dHBzOi8vZ2l0aHViLmNvbS9ydWJlbnYvYW5ndWxhci10aW55LWV2ZW50ZW1pdHRlclxuY29uc3Qga2V5ID0gJyQkdGlueUV2ZW50TGlzdGVuZXJzJztcblxuY2xhc3MgRXZlbnRCdXMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmV2ZW50cyA9IHt9O1xuICB9XG5cbiAgJG9uKCRzY29wZSwgZXZlbnQsIGZuKSB7XG4gICAgaWYgKCF0aGlzW2tleV0pIHtcbiAgICAgIHRoaXNba2V5XSA9IHt9O1xuICAgIH1cblxuICAgIGxldCBldmVudHMgPSB0aGlzW2tleV07XG5cbiAgICBpZiAoIWV2ZW50c1tldmVudF0pIHtcbiAgICAgIGV2ZW50c1tldmVudF0gPSBbXTtcbiAgICB9XG5cbiAgICBldmVudHNbZXZlbnRdLnB1c2goZm4pO1xuXG4gICAgaWYgKCRzY29wZSAmJiAkc2NvcGUuJG9uKSB7XG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgICAgJHNjb3BlLiRvbignaG9vazpiZWZvcmVEZXN0cm95JywgKCkgPT4ge1xuICAgICAgICBzZWxmLiRvZmYoZXZlbnQsIGZuKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgJG9uY2UoJHNjb3BlLCBldmVudCwgYnJvYWRFdmVudCwgZm4pIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBjYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBzZWxmLiRvZmYoZXZlbnQsIGNiKTtcbiAgICAgIHNlbGYuJG9mZihicm9hZEV2ZW50LCBjYik7XG4gICAgfTtcblxuICAgIHRoaXMuJG9uKCRzY29wZSwgZXZlbnQsIGNiKTtcbiAgICB0aGlzLiRvbigkc2NvcGUsIGJyb2FkRXZlbnQsIGNiKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gICRvZmYoZXZlbnQsIGZuKSB7XG4gICAgaWYgKCF0aGlzW2tleV0gfHwgIXRoaXNba2V5XVtldmVudF0pIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGxldCBldmVudHMgPSB0aGlzW2tleV07XG5cbiAgICBpZiAoIWZuKSB7XG4gICAgICBkZWxldGUgZXZlbnRzW2V2ZW50XTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGxpc3RlbmVycyA9IGV2ZW50c1tldmVudF07XG4gICAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGZuKTtcblxuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2V0TGlzdGVuZXJzKGV2ZW50KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc2VsZltrZXldKVxuICAgICAgLmZpbHRlcihmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChldnQucmVwbGFjZSgvXFwuL2csICdcXFxcLicpLnJlcGxhY2UoL1xcKi9nLCAnLionKSArICckJyk7XG5cbiAgICAgICAgcmV0dXJuIHJlZ2V4LnRlc3QoZXZlbnQpO1xuICAgICAgfSlcbiAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGFyciwgZXZ0KSB7XG4gICAgICAgIHJldHVybiBhcnIuY29uY2F0KHNlbGZba2V5XVtldnRdKTtcbiAgICAgIH0sIFtdKTtcbiAgfVxuXG4gICRlbWl0KGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzW2tleV0pIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLy8gTWFraW5nIGEgY29weSBoZXJlIHRvIGFsbG93IGBvZmZgIGluIGxpc3RlbmVycy5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmdldExpc3RlbmVycy5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICBjb25zdCBwYXJhbXMgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KG51bGwsIHBhcmFtcyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2V0SW5zdGFuY2UobmFtZXNwYWNlKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5ldmVudHNbbmFtZXNwYWNlXSkge1xuICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzW25hbWVzcGFjZV07XG4gICAgfVxuXG4gICAgY29uc3QgaW5zdGFuY2UgPSB7XG4gICAgICAkZW1pdChldmVudCwgZGF0YSkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnJGVtaXQnLCBgJHtuYW1lc3BhY2V9LiR7ZXZlbnR9YClcbiAgICAgICAgc2VsZi4kZW1pdChgJHtuYW1lc3BhY2V9LiR7ZXZlbnR9YCwgZGF0YSk7XG4gICAgICB9LFxuICAgICAgJGJyb2FkY2FzdChldmVudCwgZGF0YSkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnJGJyb2FkY2FzdCcsIGAke2V2ZW50fWApXG4gICAgICAgIHNlbGYuJGVtaXQoYF9fQWxsX18uJHtldmVudH1gLCBkYXRhKTtcbiAgICAgIH0sXG4gICAgICAkb24oJHNjb3BlLCBldmVudCwgZm4pIHtcbiAgICAgICAgaWYgKHR5cGVvZiAkc2NvcGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgZm4gPSBldmVudDtcbiAgICAgICAgICBldmVudCA9ICRzY29wZTtcbiAgICAgICAgICAkc2NvcGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCckb24nLCBgJHtuYW1lc3BhY2V9LiR7ZXZlbnR9YClcbiAgICAgICAgc2VsZi4kb24oJHNjb3BlLCBgJHtuYW1lc3BhY2V9LiR7ZXZlbnR9YCwgZm4pO1xuICAgICAgICBzZWxmLiRvbigkc2NvcGUsIGBfX0FsbF9fLiR7ZXZlbnR9YCwgZm4pO1xuICAgICAgfSxcbiAgICAgICRvbmNlKCRzY29wZSwgZXZlbnQsIGZuKSB7XG4gICAgICAgIGlmICh0eXBlb2YgJHNjb3BlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGZuID0gZXZlbnQ7XG4gICAgICAgICAgZXZlbnQgPSAkc2NvcGU7XG4gICAgICAgICAgJHNjb3BlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zb2xlLmxvZygnJG9uY2UnLCBgJHtuYW1lc3BhY2V9LiR7ZXZlbnR9YClcbiAgICAgICAgc2VsZi4kb25jZSgkc2NvcGUsIGAke25hbWVzcGFjZX0uJHtldmVudH1gLCBgX19BbGxfXy4ke2V2ZW50fWAsIGZuKTtcbiAgICAgIH0sXG4gICAgICAkb2ZmKGV2ZW50LCBmbikge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnJG9mZicsIGAke25hbWVzcGFjZX0uJHtldmVudH1gKVxuICAgICAgICBzZWxmLiRvZmYoYCR7bmFtZXNwYWNlfS4ke2V2ZW50fWAsIGZuKTtcbiAgICAgICAgc2VsZi4kb2ZmKGBfX0FsbF9fLiR7ZXZlbnR9YCwgZm4pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmV2ZW50c1tuYW1lc3BhY2VdID0gaW5zdGFuY2U7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBFdmVudEJ1cygpO1xuIiwiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuY29uc3QgZGVmYXVsdE11dGF0aW9ucyA9IHtcbiAgc2V0KHN0YXRlLCBbcHJvcCwgdmFsdWVdKSB7XG4gICAgXy5zZXQoc3RhdGUsIHByb3AsIHZhbHVlKTtcbiAgfSxcbiAgLy8gcmVzZXQoc3RhdGUsIHByb3ApIHtcbiAgLy8gICBjb25zdCByZWN1cnNpdmVSZXNldCA9IGZ1bmN0aW9uKHN0YXRlLCBwcm9wKSB7XG4gIC8vICAgICBjb25zdCBkYXRhID0gXy5nZXQoc3RhdGUsIHByb3ApXG4gIC8vICAgICBpZiAoXy5pc0FycmF5KGRhdGEpKSB7XG4gIC8vICAgICAgIF8uc2V0KHN0YXRlLCBwcm9wLCBbXSlcbiAgLy8gICAgIH0gZWxzZSBpZiAoXy5pc1N0cmluZyhkYXRhKSkge1xuICAvLyAgICAgICBfLnNldChzdGF0ZSwgcHJvcCwgdW5kZWZpbmVkKVxuICAvLyAgICAgfSBlbHNlIGlmIChfLmlzQm9vbGVhbihkYXRhKSkge1xuICAvLyAgICAgICBfLnNldChzdGF0ZSwgcHJvcCwgZmFsc2UpXG4gIC8vICAgICB9IGVsc2Uge1xuICAvLyAgICAgICBPYmplY3Qua2V5cyhkYXRhKS5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gIC8vICAgICAgICAgcmVjdXJzaXZlUmVzZXQoc3RhdGUsIHByb3AgKyAnLicgKyBrZXkpXG4gIC8vICAgICAgIH0pXG4gIC8vICAgICB9XG4gIC8vICAgfVxuICAvLyAgIHJlY3Vyc2l2ZVJlc2V0KHN0YXRlLCBwcm9wKVxuICAvLyB9LFxuICBhZGQoc3RhdGUsIFtwcm9wLCB2YWx1ZV0pIHtcbiAgICBfLmdldChzdGF0ZSwgcHJvcCkucHVzaCh2YWx1ZSk7XG4gIH0sXG4gIHVwZGF0ZShzdGF0ZSwgW3Byb3AsIHZhbHVlXSkge1xuICAgIGlmIChfLmlzU3RyaW5nKHByb3ApKSB7XG4gICAgICBfLnNldChzdGF0ZSwgcHJvcCwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfLm1lcmdlKHByb3AsIHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZShzdGF0ZSwgW3Byb3AsIHZhbHVlXSkge1xuICAgIF8uZ2V0KHN0YXRlLCBwcm9wKS5zcGxpY2UoXy5nZXQoc3RhdGUsIHByb3ApLmluZGV4T2YodmFsdWUpLCAxKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkTXV0YXRpb24oc3RvcmUpIHtcbiAgXy5zZXQoc3RvcmUsICdtdXRhdGlvbnMnLCBfLm1lcmdlKHN0b3JlLm11dGF0aW9ucywgZGVmYXVsdE11dGF0aW9ucykpO1xuICBpZiAoc3RvcmUubW9kdWxlcykge1xuICAgIF8uZm9yRWFjaChzdG9yZS5tb2R1bGVzLCBtb2R1bGUgPT4gYWRkTXV0YXRpb24obW9kdWxlKSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgZGVmYXVsdE11dGF0aW9ucyB9O1xuIiwiaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7XG4vLyBpbXBvcnQgeyBkZWZhdWx0TXV0YXRpb25zLCBkZWZhdWx0IGFzIGFkZE11dGF0aW9uIH0gZnJvbSAnLi9hZGRNdXRhdGlvbic7XG5pbXBvcnQgeyBkZWZhdWx0TXV0YXRpb25zIH0gZnJvbSAnLi9hZGRNdXRhdGlvbic7XG5pbXBvcnQgX1N0b3JlIGZyb20gJy4vbWFrZVN0b3JlU2VydmljZSc7XG5pbXBvcnQgeyBwYXJ0aWFsUmlnaHQgfSBmcm9tICdsb2Rhc2gnO1xuXG5sZXQgU3RvcmU7XG5cbmZ1bmN0aW9uIHBsdWdpbihWdWUsIG9wdGlvbnMgPSB7fSkge1xuICAvLyBjb25zdCBob29rID0gb3B0aW9ucy5ob29rO1xuICBjb25zdCBzdG9yZSA9IG9wdGlvbnMuc3RvcmU7XG4gIC8vIGNvbnN0IGZsZ011dGF0aW9uID0gb3B0aW9ucy5tdXRhdGlvbiB8fCBmYWxzZVxuXG4gIC8vIGlmICghc3RvcmUpIHtcbiAgLy8gICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBkZWZpbmVkIHN0b3JlJylcbiAgLy8gfVxuXG4gIC8vIGZsZ011dGF0aW9uICYmIGFkZE11dGF0aW9uKHN0b3JlKVxuICBjb25zdCBrZXkgPSAnJCRzdG9yZSc7XG5cbiAgU3RvcmUgPSBzdG9yZSA/IHBhcnRpYWxSaWdodChfU3RvcmUob3B0aW9ucyksIHN0b3JlKSA6IF9TdG9yZShvcHRpb25zKTtcbiAgaWYgKCFWdWUucHJvdG90eXBlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLnByb3RvdHlwZSwga2V5LCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiBTdG9yZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBWdWV4LlN0b3JlLnByb3RvdHlwZVtrZXldID0gU3RvcmU7XG4gIH1cbn1cblxucGx1Z2luLnZlcnNpb24gPSAnX19WRVJTSU9OX18nO1xuXG5leHBvcnQgZGVmYXVsdCBwbHVnaW47XG5leHBvcnQgeyBTdG9yZSwgZGVmYXVsdE11dGF0aW9ucyB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==